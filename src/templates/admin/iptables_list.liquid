{% render '../components/heading/h1', slot: '{{ list_head_txt }}' %}

<p class="fieldset-legend">Tools</p>

{% render '../components/button/primary', {
    "slot": "{{ add_new_rule_txt }}",
    "attributes": [
        [ "type", "button" ],
        [ "value", "{{ add_new_rule_txt }}" ],
        [ "data-load-content", "admin/iptables_edit.php"]
    ]
} %}

{% render '../components/table/fieldset-legend', slot: '{{ list_head_txt }}' %}
{% render '../components/table/start' %}
{% render '../components/table/head-start' %}
    <tr>
        {% render '../components/table/th', name: 'active', label: '{{ active_txt }}', class: 'w-[8%]' %}
        {% render '../components/table/th', name: 'server_id', label: '{{ server_id_txt }}', class: '' %}
        {% render '../components/table/th', name: 'table', label: '{{ table_txt }}', class: '' %}
        {% render '../components/table/th', name: 'protocol', label: '{{ protocol_txt }}', class: '' %}
        {% render '../components/table/th', name: 'singleport', label: '{{ singleport_txt }}', class: '' %}
        {% render '../components/table/th', name: 'multiport', label: '{{ multiport_txt }}', class: '' %}
        {% render '../components/table/th', name: 'state', label: '{{ state_txt }}', class: '' %}
        {% render '../components/table/th', name: 'target', label: '{{ target_txt }}', class: '' %}
        <th class="text-right">&nbsp;</th>
    </tr>
    <tr>
        <td>
            <select class="form-control"
                    name="search_active">{{ search_active }}</select>
                    </td>
        <td>
            <select class="form-control"
                    name="search_server_id">{{ search_server_id }}</select>
                    </td>
        <td></td>
        <td>
            <select class="form-control"
                    name="search_protocol">{{ search_protocol }}</select>
        </td>
        <td></td>
        <td></td>
        <td></td>
        <td>
            <select class="form-control"
                    name="search_target">{{ search_target }}</select>
        </td>
        <td class="text-right">
            <button type="button"
                    class="btn btn-default formbutton-default formbutton-narrow"
                    name="Filter"
                    id="Filter"
                    value="{{ filter_txt }}"
                    data-submit-form="pageForm"
                    data-form-action="admin/iptables_list.php"><span class="icon icon-filter"></span></button>
        </td>
    </tr>
{% render '../components/table/head-body' %}
    {% loop records %}
        <tr>
            <td><a href="#"
                data-load-content="admin/iptables_edit.php?id={{ id }}">{{ active }}</a></td>
            <td><a href="#"
                data-load-content="admin/iptables_edit.php?id={{ id }}">{{ server_id }}</a></td>
            <td><a href="#"
                data-load-content="admin/iptables_edit.php?id={{ id }}">{{ table }}</a></td>
            <td><a href="#"
                data-load-content="admin/iptables_edit.php?id={{ id }}">{{ protocol }}</a></td>
            <td><a href="#"
                data-load-content="admin/iptables_edit.php?id={{ id }}">{{ singleport }}</a></td>
            <td><a href="#"
                data-load-content="admin/iptables_edit.php?id={{ id }}">{{ multiport }}</a></td>
            <td><a href="#"
                data-load-content="admin/iptables_edit.php?id={{ id }}">{{ state }}</a></td>
            <td><a href="#"
                data-load-content="admin/iptables_edit.php?id={{ id }}">{{ target }}</a></td>
            <td class="text-right">
                <a class="btn btn-default formbutton-danger formbutton-narrow"
                href="javascript: ISPConfig.confirm_action('admin/iptables_del.php?id={{ id }}&_csrf_id={{ csrf_id }}&_csrf_key={{ csrf_key }}&phpsessid={{ phpsessid }}','{{ delete_confirmation }}');"><span
                        class="icon icon-delete"></span></a>
            </td>
        </tr>
    {% endloop %}
{% render '../components/table/end', colspan: '9' %}
