<tmpl_if name="list_head_txt">
<div class='page-header'>
	<h1 class="text-4xl pb-4 border-b">{{ list_head_txt }}</h1>
</div>
</tmpl_if>
<div class="table-wrapper marginTop15">
	<table class='table w-full'>
		<thead class="dark">
			<tr>
				<th width="25%">{{ id_txt }}</th>
				<th>{{ id }}</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>{{ username_txt }}</td>
				<td>{{ username }}</td>
			</tr>
			<tr>
				<td>{{ timestamp_txt }}</td>
				<td>{{ timestamp }}</td>
			</tr>
			<tr>
				<td>{{ table_txt }}</td>
				<td>{{ table }}<tmpl_if name='table_id'> ({{ table_id }})</tmpl_if></td>
			</tr>
			<tr>
				<td>{{ action_txt }}</td>
				<td>{{ action_name }}</td>
			</tr>
			<tr>
				<td>{{ session_id_txt }}</td>
				<td>{{ session_id }}</td>
			</tr>
		</tbody>
    </table>
</div>

<tmpl_if name='action_char' value='i'>
	<h2>{{ fields_inserted_txt }}</h2>
</tmpl_if>
<tmpl_if name='action_char' value='u'>
	<h2>{{ fields_updated_txt }}</h2>
</tmpl_if>
<tmpl_if name='action_char' value='d'>
	<h2>{{ fields_deleted_txt }}</h2>
</tmpl_if>

<div class="table-wrapper marginTop15">
	<table class='table w-full'>
		<tmpl_if name='action_char' value='i'>
			<thead class="dark">
				<tr>
					<th width="25%">{{ field_txt }}</th>
					<th>{{ value_txt }}</th>
				</tr>
			</thead>
			{% for inserts %}
				<tr>
					<td>{{ key }}</td>
					<td>{{ value }}</td>
				</tr>
			{% endfor %}
		</tmpl_if>
		<tmpl_if name='action_char' value='u'>
			<tmpl_if name='no_changes'>
				<tbody>
					<tr>
						<td class="text-center"><h3>{{ no_changes_txt }}</h3></td>
					</tr>
				</tbody>
			<tmpl_else>
				<thead class="dark">
					<tr>
						<th width="25%">{{ field_txt }}</th>
						<th>{{ old_txt }}</th>
						<th>{{ new_txt }}</th>
					</tr>
				</thead>
				<tbody>
				{% for updates %}
					<tmpl_if name='is_diff'>
						<tr>
							<td>{{ key }}</td>
							<td colspan="2">
								<div class="alert alert-warning">{{ is_diff_txt }} (<span class="finediff"><ins>{{ is_diff_inserts_txt }}</ins></span> / <span class="finediff"><del>{{ is_diff_deletes_txt }}</del></span>)</div>
								<div class="finediff">{{ diff }}</div>
							</td>
						</tr>
					<tmpl_else>
						<tr>
							<td>{{ key }}</td>
							<td>{{ old }}</td>
							<td>{{ new }}</td>
						</tr>
					</tmpl_if>
				{% endfor %}
				</tbody>
			</tmpl_if>
		</tmpl_if>
		<tmpl_if name='action_char' value='d'>
			<thead class="dark">
				<tr>
					<th width="25%">{{ field_txt }}</th>
					<th>{{ value_txt }}</th>
				</tr>
			</thead>
			<tbody>
			{% for deletes %}
				<tr>
					<td>{{ key }}</td>
					<td>{{ value }}</td>
				</tr>
			{% endfor %}
			</tbody>
		</tmpl_if>

    </table>
</div>

<div class="clear">
	<div class="right">
		<tmpl_if name='can_undo'>
			<a class="btn btn-default formbutton-danger formbutton-narrow" href="javascript: ISPConfig.confirm_action('monitor/dataloghistory_undo.php?id={{ id }}','{{ undo_confirmation_txt }}');"> {{ undo_txt }}</a>
		</tmpl_if>
		<button class="btn btn-default formbutton-default" type="button" value="{{ btn_cancel_txt }}" data-load-content="monitor/dataloghistory_list.php">{{ btn_cancel_txt }}</button>
	</div>
</div>
